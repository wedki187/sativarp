var obj = {
    'WYKROCZENIA DROGOWE': {
        'ART 1,1': {
            'Ticket min': 300,
            'Ticket max': 600,
            'Jail min': 0,
            'Jail max': 0,
            'Additional': 'Przekroczenie prędkości poniżej 50 km/h',
        },
        'ART 1,2': {
            'Ticket min': 900,
            'Ticket max': 1200,
            'Jail min': 0,
            'Jail max': 0,
            'Additional': 'Przekroczenie prędkości powyżej 50 km/h',
        },
        'ART 1,3': {
            'Ticket min': 2400,
            'Ticket max': 3000,
            'Jail min': 0,
            'Jail max': 10,
            'Additional': 'Prowadzenie pod wpływem środków odurzających',
        },
        'ART 1,4': {
            'Ticket min': 3000,
            'Ticket max': 6000,
            'Jail min': 0,
            'Jail max': 2,
            'Additional': 'Jazda bez uprawnień',
        },
        'ART 1,5': {
            'Ticket min': 1200,
            'Ticket max': 1500,
            'Jail min': 0,
            'Jail max': 0,
            'Additional': 'Brawurowa jazda',
        },
        'ART 1,6': {
            'Ticket min': 1500,
            'Ticket max': 3000,
            'Jail min': 0,
            'Jail max': 1,
            'Additional': 'Niezatrzymanie pojazdu do kontroli',
        },
        'ART 1,7': {
            'Ticket min': 300,
            'Ticket max': 450,
            'Jail min': 0,
            'Jail max': 0,
            'Additional': 'Niewłaściwe parkowanie',
        },
        'ART 1,8': {
            'Ticket min': 300,
            'Ticket max': 1500,
            'Jail min': 0,
            'Jail max': 0,
            'Additional': 'Zły stan techniczny pojazdu',
        },
        'ART 1,9': {
            'Ticket min': 300,
            'Ticket max': 2400,
            'Jail min': 0,
            'Jail max': 0,
            'Additional': 'Przejazd na czerwonym świetle',
        },
        'ART 1,10': {
            'Ticket min': 3000,
            'Ticket max': 3000,
            'Jail min': 0,
            'Jail max': 0,
            'Additional': 'Spowodowanie kolizji',
        },
        'ART 1,11': {
            'Ticket min': 4500,
            'Ticket max': 4500,
            'Jail min': 0,
            'Jail max': 2,
            'Additional': 'Spowodowanie wypadku',
        },
        'ART 1,12': {
            'Ticket min': 9000,
            'Ticket max': 9000,
            'Jail min': 0,
            'Jail max': 5,
            'Additional': 'Spowodowanie katastrofy w ruchu lądowym',
        },
        'ART 1,13': {
            'Ticket min': 600,
            'Ticket max': 600,
            'Jail min': 0,
            'Jail max': 0,
            'Additional': 'Jazda pod prąd',
        },
        'ART 1,14': {
            'Ticket min': 900,
            'Ticket max': 6000,
            'Jail min': 0,
            'Jail max': 1,
            'Additional': 'Potrącenie przechodnia',
        },
        'ART 1,15': {
            'Ticket min': 300,
            'Ticket max': 1500,
            'Jail min': 0,
            'Jail max': 0,
            'Additional': 'Brak ubezpieczenia OC',
        },
    },
    'PRZESTĘPSTWA LEKKIE': {
        'ART 2,1': {
            'Ticket min': 300,
            'Ticket max': 600,
            'Jail min': 0,
            'Jail max': 0,
            'Additional': 'Niszczenie mienia publicznego',
        },
        'ART 2,2': {
            'Ticket min': 1500,
            'Ticket max': 3000,
            'Jail min': 0,
            'Jail max': 0,
            'Additional': 'Niewykonywanie poleceń funkcjonariusza',
        },
        'ART 2,3': {
            'Ticket min': 300,
            'Ticket max': 1500,
            'Jail min': 0,
            'Jail max': 0,
            'Additional': 'Obraza funkcjonariusza',
        },
        'ART 2,4': {
            'Ticket min': 300,
            'Ticket max': 3000,
            'Jail min': 0,
            'Jail max': 0,
            'Additional': 'Prowokacja policji',
        },
        'ART 2,5': {
            'Ticket min': 15000,
            'Ticket max': 15000,
            'Jail min': 0,
            'Jail max': 0,
            'Additional': 'Nieuzasadnione/fałszywe zgłoszenia',
        },
        'ART 2,6': {
            'Ticket min': 6000,
            'Ticket max': 20000,
            'Jail min': 5,
            'Jail max': 7,
            'Additional': 'Składanie fałszywych zeznań',
        },
        'ART 2,7': {
            'Ticket min': 300,
            'Ticket max': 3000,
            'Jail min': 0,
            'Jail max': 0,
            'Additional': 'Chodzenie zamaskowanym w miejscu publicznym',
        },
        'ART 2,8': {
            'Ticket min': 3000,
            'Ticket max': 5000,
            'Jail min': 0,
            'Jail max': 5,
            'Additional': 'Kradzież cudzej własności',
        },
        'ART 2,9': {
            'Ticket min': 12000,
            'Ticket max': 15000,
            'Jail min': 0,
            'Jail max': 5,
            'Additional': 'Kradzież radiowozu',
        },
        'ART 2,10': {
            'Ticket min': 3000,
            'Ticket max': 3000,
            'Jail min': 0,
            'Jail max': 0,
            'Additional': 'Próba przekupstwa',
        },
        'ART 2,11': {
            'Ticket min': 9000,
            'Ticket max': 15000,
            'Jail min': 0,
            'Jail max': 0,
            'Additional': 'Utrudnianie pracy służbom publicznym',
        },
        'ART 2,12': {
            'Ticket min': 6000,
            'Ticket max': 6000,
            'Jail min': 0,
            'Jail max': 0,
            'Additional': 'Wtargnięcie na teren strzeżony (parking policyjny etc.)',
        },
        'ART 2,13': {
            'Ticket min': 3000,
            'Ticket max': 15000,
            'Jail min': 0,
            'Jail max': 5,
            'Additional': 'Kradzież samochodu',
        },
    },
    'PRZESTĘPSTWA CIĘŻKIE': {
        'ART 3,1': {
            'Ticket min': 15000,
            'Ticket max': 15000,
            'Jail min': 0,
            'Jail max': 7,
            'Additional': 'Ucieczka przed policją',
        },
        'ART 3,2': {
            'Ticket min': 15000,
            'Ticket max': 15000,
            'Jail min': 0,
            'Jail max': 5,
            'Additional': 'Pomoc w ucieczce',
        },
        'ART 3,3': {
            'Ticket min': 1500,
            'Ticket max': 3000,
            'Jail min': 0,
            'Jail max': 1,
            'Additional': 'Nękanie obywatela/obywatelki',
        },
        'ART 3,4': {
            'Ticket min': 30000,
            'Ticket max': 40000,
            'Jail min': 0,
            'Jail max': 2,
            'Additional': 'Podszywanie się pod funkcjonariusza',
        },
        'ART 3,5': {
            'Ticket min': 15000,
            'Ticket max': 40000,
            'Jail min': 10,
            'Jail max': 10,
            'Additional': 'Groźby przy użyciu broni',
        },
        'ART 3,6': {
            'Ticket min': 15000,
            'Ticket max': 25000,
            'Jail min': 3,
            'Jail max': 6,
            'Additional': 'Napad lub próba napadu na sklep',
        },
        'ART 3,7': {
            'Ticket min': 60000,
            'Ticket max': 75000,
            'Jail min': 6,
            'Jail max': 9,
            'Additional': 'Napad lub próba napadu na bank',
        },
        'ART 3,8': {
            'Ticket min': 80000,
            'Ticket max': 90000,
            'Jail min': 12,
            'Jail max': 15,
            'Additional': 'Napad lub próba napadu na skarbiec Pacyffic Standard',
        },
        'ART 3,9': {
            'Ticket min': 40000,
            'Ticket max': 55000,
            'Jail min': 4,
            'Jail max': 7,
            'Additional': 'Napad lub próba napadu na jubilera',
        },
        'ART 3,10': {
            'Ticket min': 50000,
            'Ticket max': 50000,
            'Jail min': 80,
            'Jail max': 80,
            'Additional': 'Przynależność do grupy przestępczej',
        },
        'ART 3,11': {
            'Ticket min': 1500,
            'Ticket max': 1500,
            'Jail min': 0,
            'Jail max': 1,
            'Additional': 'Posiadanie kontrabandy (powyżej $5000)',
        },

    },
    'PRZESTĘPSTWA ZWIĄZANE Z BRONIĄ ORAZ NIELEGALNYMI PRZEDMIOTAMI': {
        'ART 4,1': {
            'Ticket min': 3000,
            'Ticket max': 3000,
            'Jail min': 0,
            'Jail max': 10,
            'Additional': 'Posiadanie narkotyków miękkich (marihuana powyżej 5g)',
        },
        'ART 4,2': {
            'Ticket min': 6000,
            'Ticket max': 6000,
            'Jail min': 10,
            'Jail max': 15,
            'Additional': 'Posiadanie narkotyków twardych (metaamfetamina/kokaina/mdma)',
        },
        'ART 4,3': {
            'Ticket min': 9000,
            'Ticket max': 9000,
            'Jail min': 3,
            'Jail max': 3,
            'Additional': 'Handel narkotykami miękkimi (marihuana)',
        },
        'ART 4,4': {
            'Ticket min': 15000,
            'Ticket max': 15000,
            'Jail min': 5,
            'Jail max': 5,
            'Additional': 'Handel narkotykami twardymi (metaamfetamina/kokaina/mdma/heroina)',
        },
        'ART 4,5': {
            'Ticket min': 45000,
            'Ticket max': 60000,
            'Jail min': 10,
            'Jail max': 25,
            'Additional': 'Posiadanie broni krótkiej bez zezwolenia',
        },
        'ART 4,6': {
            'Ticket min': 40000,
            'Ticket max': 55000,
            'Jail min': 20,
            'Jail max': 25,
            'Additional': 'Udział w masowej strzelaninie',
        },
        'ART 4,7': {
            'Ticket min': 70000,
            'Ticket max': 80000,
            'Jail min': 30,
            'Jail max': 40,
            'Additional': 'Posiadanie nielegalnej broni klasy drugiej',
        },
        'ART 4,8': {
            'Ticket min': 30000,
            'Ticket max': 60000,
            'Jail min': 20,
            'Jail max': 40,
            'Additional': 'Handel bronią',
        },
        'ART 4,9': {
            'Ticket min': 40000,
            'Ticket max': 40000,
            'Jail min': 15,
            'Jail max': 15,
            'Additional': 'Bezpodstawne użycie broni',
        },
    },
    'PRZESTĘPSTWA ZWIĄZANE Z UŻYCIEM SIŁY ORAZ USZCZERBKIEM NA ZDROWIU': {
        'ART 5,1': {
            'Ticket min': 3000,
            'Ticket max': 15000,
            'Jail min': 0,
            'Jail max': 5,
            'Additional': 'Udział w bójce',
        },
        'ART 5,2': {
            'Ticket min': 6000,
            'Ticket max': 24000,
            'Jail min': 0,
            'Jail max': 10,
            'Additional': 'Udział w bójce z użyciem broni białej',
        },
        'ART 5,3': {
            'Ticket min': 3000,
            'Ticket max': 15000,
            'Jail min': 0,
            'Jail max': 5,
            'Additional': 'Napaść na cywila',
        },
        'ART 5,4': {
            'Ticket min': 15000,
            'Ticket max': 21000,
            'Jail min': 0,
            'Jail max': 10,
            'Additional': 'Nieumyślne spowodowanie uszczerbku na zdrowiu',
        },
        'ART 5,5': {
            'Ticket min': 35000,
            'Ticket max': 45000,
            'Jail min': 10,
            'Jail max': 20,
            'Additional': 'Napaść na funkcjonariusza publicznego',
        },
        'ART 5,6': {
            'Ticket min': 20000,
            'Ticket max': 30000,
            'Jail min': 10,
            'Jail max': 15,
            'Additional': 'Próba/porwanie cywila',
        },
        'ART 5,7': {
            'Ticket min': 35000,
            'Ticket max': 45000,
            'Jail min': 20,
            'Jail max': 35,
            'Additional': 'Próba/porwanie funkcjonariusza publicznego',
        },
        'ART 5,8 ': {
            'Ticket min': 27000,
            'Ticket max': 35000,
            'Jail min': 20,
            'Jail max': 30,
            'Additional': 'Usiłowanie zabójstwa cywila przy pomocy broni',
        },
        'ART 5,9': {
            'Ticket min': 45000,
            'Ticket max': 55000,
            'Jail min': 25,
            'Jail max': 40,
            'Additional': 'Usiłowanie zabójstwa funkcjonariusza(y) publicznego przy pomocy broni',
        },
        'ART 5,10 ': {
            'Ticket min': 110000,
            'Ticket max': 140000,
            'Jail min': 80,
            'Jail max': 80,
            'Additional': 'Zabójstwo cywila',
        },
        'ART 5,11': {
            'Ticket min': 250000,
            'Ticket max': 350000,
            'Jail min': 100,
            'Jail max': 100,
            'Additional': 'Zabójstwo funkcjonariusza publicznego',
        },
    },
};


function tariff() {
    var i = 1;
    var j = 0;
    $.each(obj, function(k, v) {
        $(".header").append('<button id="collapsible" class="collapsible">' + k + '</button>');
        $(".header").append('<div class="content"><table id="table' + i + '" class="tariff"><br/></table></div>');
        $.each(v, function(k2, v2) {
            $('#table' + i).append('<tr><td> <div class="input-div"><input class="css-checkbox" id="' + j + '" type="checkbox" /><label class="css-label" for="' + j + '">' + k2 + '</label></div>   <div id="d' + j + '" class="input-div"><input class="input-value" id="i' + j + '" type="number" value="0" min="0" style="margin-left:10px"/></div></td></tr>');
            j = j + 1;
            var punishments = "";
            if (v2['Ticket min'] != v2['Ticket max']) {
                if (v2['Additional'] != '' && v2['Jail max'] != '') {
                    if (v2['Jail max'] == v2['Jail min']) {
                        punishments = punishments + "Grzywna: " + "$" + v2['Ticket min'] + " - $" + v2['Ticket max'] + '<br>';
                        punishments = punishments + "Więzienie: " + v2['Jail min'] + " lat " + '<br>';
                        punishments = punishments + "<u>Dodatkowa kara</u>: " + v2['Additional'] + '<br>';
                    } else {
                        punishments = punishments + "Grzywna: " + "$" + v2['Ticket min'] + " - $" + v2['Ticket max'] + '<br>';
                        punishments = punishments + "Więzienie od " + v2['Jail min'] + " do " + v2['Jail max'] + " lat" + '<br>';
                        punishments = punishments + "<u>Dodatkowa kara</u>: " + v2['Additional'] + '<br>';
                    }
                } else if (v2['Additional'] == '' && v2['Jail max'] != '') {
                    if (v2['Jail max'] == v2['Jail min']) {
                        punishments = punishments + "Grzywna: " + "$" + v2['Ticket min'] + " - $" + v2['Ticket max'] + '<br>';
                        punishments = punishments + "Więzienie: " + v2['Jail min'] + " lat " + '<br>';
                    } else {
                        punishments = punishments + "Grzywna: " + "$" + v2['Ticket min'] + " - $" + v2['Ticket max'] + '<br>';
                        punishments = punishments + "Więzienie od " + v2['Jail min'] + " do " + v2['Jail max'] + " lat" + '<br>';
                    }
                } else if (v2['Additional'] != '' && v2['Jail max'] == '') {
                    punishments = punishments + "Grzywna: " + "$" + v2['Ticket min'] + " - $" + v2['Ticket max'] + '<br>';
                    punishments = punishments + "<u>Dodatkowa kara</u>: " + v2['Additional'] + '<br>';
                } else {
                    punishments = punishments + "Grzywna: " + "$" + v2['Ticket min'] + " - $" + v2['Ticket max'] + '<br>';
                }
            } else {
                if (v2['Additional'] != '' && v2['Jail max'] != '') {
                    if (v2['Jail max'] == v2['Jail min']) {
                        punishments = punishments + "Grzywna: " + "$" + v2['Ticket min'] + '<br>';
                        punishments = punishments + "Więzienie: " + v2['Jail min'] + "lat" + '<br>';
                        punishments = punishments + "<u>Dodatkowa kara</u>: " + v2['Additional'] + '<br>';
                    } else {
                        punishments = punishments + "Grzywna: " + "$" + v2['Ticket min'] + '<br>';
                        punishments = punishments + "Więzienie od " + v2['Jail min'] + " do " + v2['Jail max'] + " lat" + '<br>';
                        punishments = punishments + "<u>Dodatkowa kara</u>: " + v2['Additional'] + '<br>';
                    }
                } else if (v2['Additional'] == '' && v2['Jail max'] != '') {
                    if (v2['Jail max'] == v2['Jail min']) {
                        punishments = punishments + "Grzywna: " + "$" + v2['Ticket min'] + '<br>';
                        punishments = punishments + "Więzienie: " + v2['Jail min'] + "lat" + '<br>';
                    } else {
                        punishments = punishments + "Grzywna: " + "$" + v2['Ticket min'] + '<br>';
                        punishments = punishments + "Więzienie od " + v2['Jail min'] + " do " + v2['Jail max'] + " lat" + '<br>';
                    }
                } else if (v2['Additional'] != '' && v2['Jail max'] == '') {
                    punishments = punishments + "Grzywna: " + "$" + v2['Ticket min'] + '<br>';
                    punishments = punishments + "<u>Dodatkowa kara</u>: " + v2['Additional'] + '<br>';
                } else {
                    punishments = punishments + "Grzywna: " + "$" + v2['Ticket min'] + '<br>';
                }
            }

            $('#table' + i).append('<tr><td>' + punishments + ' <hr class="linia"></td></tr>');
        });
        i = i + 1;
    });

    /*CHECKBOXY*/


    $('input[type="checkbox"]').change(function() {
        var id = this.getAttribute('id');
        var idInput = "i" + id;
        var idDiv = "div#d" + id;
        if ($(this).is(':checked')) {
            $(idDiv).show();
            document.getElementById(idInput).value = 1;
        } else {
            $(idDiv).hide();
            document.getElementById(idInput).value = 0;
        }
    }).change();


}

function calc() {
    var cenaMin = 0;
    var cenaMax = 0;
    var wiezienieMin = 0;
    var wiezienieMax = 0;
    var reason = "";
    var j = ""

    var kara = [];
    var uniqueKara = [];
    var karaString = "";

    var i = 0;
    $.each(obj, function(k, v) {
        $.each(v, function(k2, v2) {
            j = "i" + i;
            var number = document.getElementById(j).value;

            if (number > 0) {
                number = parseInt(number, 10);
                cenaMin = cenaMin + (number * v2['Ticket min']);
                cenaMax = cenaMax + (number * v2['Ticket max']);
                wiezienieMin = wiezienieMin + (number * v2['Jail min']);
                wiezienieMax = wiezienieMax + (number * v2['Jail max']);

                if (number == 1) {
                    reason = reason + k2 + ", ";
                } else {
                    reason = reason + k2 + " x" + number + ", ";
                }

                if (v2['Additional']) {
                    kara.push(v2['Additional']);
                }

            }
            i = i + 1;
        });
    });

    $.each(kara, function(i, el) {
        if ($.inArray(el, uniqueKara) === -1) uniqueKara.push(el);
    });

    for (i = 0; i < uniqueKara.length; i++) {
        karaString = karaString + uniqueKara[i] + ", ";
    }


    if (cenaMax == 0) {
        document.getElementById("charge").innerHTML = "Grzywna: 0$";
    } else {
        if (cenaMin == cenaMax) {
            document.getElementById("charge").innerHTML = "Grzywna: $" + cenaMin;
        } else {
            document.getElementById("charge").innerHTML = "Grzywna: od $" + cenaMin + " do $" + cenaMax;
        }
    }

    if (wiezienieMax == 0) {
        document.getElementById("jail").innerHTML = "Brak kary wiezienia";
    } else if (wiezienieMax == wiezienieMin) {
        document.getElementById("jail").innerHTML = "Wiezienie: - " + wiezienieMin + " lat";
    } else {
        document.getElementById("jail").innerHTML = "Wiezienie: od " + wiezienieMin + " do " + wiezienieMax + " lat";
    }

    if (reason == "") {
        document.getElementById("reason").innerHTML = "we cos zaznacz";
    } else {
        document.getElementById("reason").innerHTML = reason.slice(0, -2);
    }

    if (karaString == "") {
        document.getElementById("penalty").innerHTML = "<u>Dodatkowa kara:</u> " + "brak";
    } else {
        document.getElementById("penalty").innerHTML = "<u>Dodatkowa kara:</u> " + karaString.slice(0, -2);
    }
}



function openNav() {
    document.getElementById("mySidenav").style.width = "15vw";
}

function closeNav() {
    document.getElementById("mySidenav").style.width = "0";
}

function openNav2() {
    if (document.getElementById("mySidenav2").style.width === "15vw") {
        document.getElementById("mySidenav2").style.width = "0";
        $("#sideclosebtn").css('display', 'block');
        $("#open_management").css('color', '#818181');
    } else {
        document.getElementById("mySidenav2").style.width = "15vw";
        $("#sideclosebtn").css('display', 'none');
        $("#open_management").css('color', '#f1f1f1');
    }
}

function closeNav2() {
    document.getElementById("mySidenav2").style.width = "0";
    document.getElementById("mySidenav").style.width = "0";
    $("#sideclosebtn").css('display', 'block');
    $("#open_management").css('color', '#818181');
}



/*	MODALE	*/

//MODAL 1

var modal = document.getElementById("myModal");

var btn = document.getElementById("myBtn");

$("#myBtn").click(function() {
    calc();
    if (document.getElementById("reason").innerHTML == "we cos zaznacz") {
        alertify.notify('Najpierw musisz coś zaznaczyć', 'error', 1).dismissOthers();
    } else {
        $('#myModal').fadeIn(500);
    }
});

var span = $("#close")[0];
var span2 = $("#close-btn")[0];

span.onclick = function() {
    $('#myModal').fadeOut(500);
}

span2.onclick = function() {
    $('#myModal').fadeOut(500);
}

window.onclick = function(event) {
    if (event.target == modal) {
        $('#myModal').fadeOut(500);
    }
}

//MODAL 2

var modal2 = document.getElementById("myModal2");

var btn2 = document.getElementById("myBtn2");

var span3 = $("#close2")[0];
var span4 = $("#close-btn2")[0];

btn2.onclick = function() {

    $('#myModal2').fadeIn(500);
}

span3.onclick = function() {
    $('#myModal2').fadeOut(500);
}

span4.onclick = function() {
    $('#myModal2').fadeOut(500);
}

window.onclick = function(event) {
    if (event.target == modal2) {
        $('#myModal2').fadeOut(500);
    }
}

//MODAL 3

var modal2 = document.getElementById("myModal3");

var btn2 = document.getElementById("myBtn3");

var span5 = $("#close3")[0];
var span6 = $("#close-btn3")[0];

btn2.onclick = function() {
    $('#myModal3').fadeIn(500);
}

span5.onclick = function() {
    $('#myModal3').fadeOut(500);
}

span6.onclick = function() {
    $('#myModal3').fadeOut(500);
}

window.onclick = function(event) {
    if (event.target == modal2) {
        $('#myModal3').fadeOut(500);
    }
}

// avatar modal

var span7 = $("#close6")[0];
var span8 = $("#close-btn6")[0];

span7.onclick = function() {
    $('#myModal6').fadeOut(500);
    setTimeout(function() {
        $("#suspect-avatar-modal").attr("src", "");
    }, 500);
    alertify.error('Anulowano.');
}

span8.onclick = function() {
    $('#myModal6').fadeOut(500);
    setTimeout(function() {
        $("#suspect-avatar-modal").attr("src", "");
    }, 500);
    alertify.error('Anulowano.');
}